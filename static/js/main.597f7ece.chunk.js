(this["webpackJsonpusers-list"]=this["webpackJsonpusers-list"]||[]).push([[0],{18:function(e,t,n){e.exports=n(31)},29:function(e,t,n){},31:function(e,t,n){"use strict";n.r(t),n.d(t,"configureStore",(function(){return R})),n.d(t,"store",(function(){return T}));var r=n(0),a=n.n(r),c=n(8),u=n.n(c),l=n(2),s=n(6),o=n(16),i=n(17),f=n(1),p={allUsers:null,currentPage:1,totalPages:null,editedUserState:{name:"",surname:"",desc:"",id:""}},h=function(e){return e>5?Math.ceil(e/5):1},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_ALL_USERS":var n=t.allUsers,r=h(n.length);return Object(f.a)(Object(f.a)({},e),{},{allUsers:n,totalPages:r,currentPage:r<=5?1:e.currentPage});case"ADD_NEW_USER":var a=[].concat(Object(i.a)(e.allUsers),[Object(f.a)({},t.user)]);return Object(f.a)(Object(f.a)({},e),{},{allUsers:a,totalPages:h(a.length)});case"SET_CURRENT_PAGE":return Object(f.a)(Object(f.a)({},e),{},{currentPage:t.currentPage});default:return e}},d=(n(29),n(4)),v=n(3),b=n.n(v),E=n(5),g=function(e){return"http://77.120.241.80:8911/api/"+e},j=function(e){return{type:"ADD_ALL_USERS",allUsers:e}},O={deleteUser:function(e){return function(){var t=Object(E.a)(b.a.mark((function t(n){var r,a;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch(g("user/".concat(e)),{method:"DELETE",body:e,headers:{"Content-Type":"application/json"}});case 3:return r=t.sent,t.next=6,r.json();case 6:a=t.sent,n(j(a)),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.error(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()}},P=Object(l.b)((function(e){return{}}),O)((function(e){var t=e.usersList,n=e.deleteUser;return a.a.createElement("ul",null,t.map((function(e){return a.a.createElement("li",{key:e.id},a.a.createElement("h3",null,"".concat(e.name," ").concat(e.surname)),a.a.createElement("p",null,e.desc),a.a.createElement("div",null,a.a.createElement("button",null,"\u0440\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438"),a.a.createElement("button",{onClick:function(){return n(e.id)}},"\u0432\u0438\u0434\u0430\u043b\u0438\u0442\u0438")))})))})),U={setCurrentPage:function(e){return{type:"SET_CURRENT_PAGE",currentPage:e}}},k=Object(l.b)((function(e){return{currentPage:e.currentPage,totalPages:e.totalPages}}),U)((function(e){var t=e.totalPages,n=e.currentPage,c=e.setCurrentPage,u=Object(r.useState)(),l=Object(d.a)(u,2),s=l[0],o=l[1];Object(r.useEffect)((function(){var e=[];if(t<6)for(var r=1;r<=t;r+=1)e.push(r);else if(n<=3){for(var a=1;a<=4;a+=1)e.push(a);e.push("...",t)}else if(n>3&&n<t-2)e.push(1,"...",n-1,n,n+1,"...",t);else if(n>3&&n>t-3){e.push(1,"...");for(var c=t-3;c<=t;c+=1)e.push(c)}o(e)}),[n,t]);var i=function(e){return e!==n?c(e):null};return a.a.createElement("div",null,n>1&&a.a.createElement("button",{onClick:function(){return i(n-1)},title:n-1},"\u043d\u0430\u0437\u0430\u0434"),a.a.createElement("ul",null,s&&s.map((function(e,t){return a.a.createElement("li",{key:t},"..."===e?a.a.createElement("span",null,e):a.a.createElement("button",{onClick:function(){return i(e)}},e))}))),n<t&&a.a.createElement("button",{onClick:function(){return i(n+1)},title:n+1},"\u0432\u043f\u0435\u0440\u0435\u0434"))})),C=function(e){var t=e.handleClick,n=e.desc;return a.a.createElement("button",{onClick:t},n)},y=n(10),w=function(e){var t=e.value,n=e.handleChange,r=e.placeholder;return a.a.createElement("input",{type:"text",value:t,onChange:n,placeholder:r})},S={createUser:function(e){return function(){var t=Object(E.a)(b.a.mark((function t(n){var r,a;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch(g("users"),{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}});case 3:return r=t.sent,t.next=6,r.json();case 6:return a=t.sent,n({type:"ADD_NEW_USER",user:a}),t.abrupt("return",!0);case 11:t.prev=11,t.t0=t.catch(0),console.error(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()}},x=Object(l.b)((function(e){return{}}),S)((function(e){var t=e.createUser,n={name:"",surname:"",desc:""},c=Object(r.useState)(n),u=Object(d.a)(c,2),l=u[0],s=u[1],o=l.name,i=l.surname,p=l.desc,h=function(e){return function(t){s(Object(f.a)(Object(f.a)({},l),{},Object(y.a)({},e,t.target.value)))}},m=function(){var e=Object(E.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(o&&i&&p)){e.next=5;break}return e.next=3,t(l);case 3:e.sent&&s(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return a.a.createElement("div",null,a.a.createElement(w,{value:o,placeholder:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u0456\u043c'\u044f \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430",handleChange:h("name")}),a.a.createElement(w,{value:i,placeholder:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u043f\u0440\u0456\u0437\u0432\u0438\u0449\u0435 \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430",handleChange:h("surname")}),a.a.createElement(w,{value:p,placeholder:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u043e\u043f\u0438\u0441 \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430",handleChange:h("desc")}),a.a.createElement(C,{desc:"\u0421\u0442\u0432\u043e\u0440\u0438\u0442\u0438",handleClick:m}))})),_={getAllUsers:function(){return function(){var e=Object(E.a)(b.a.mark((function e(t){var n,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(g("users"));case 3:return n=e.sent,e.next=6,n.json();case 6:r=e.sent,t(j(r)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()}},A=Object(l.b)((function(e){return{allUsers:e.allUsers,currentPage:e.currentPage,totalPages:e.totalPages}}),_)((function(e){var t=e.getAllUsers,n=e.allUsers,c=e.currentPage,u=e.totalPages,l=Object(r.useState)(),s=Object(d.a)(l,2),o=s[0],i=s[1],f=Object(r.useState)(!1),p=Object(d.a)(f,2),h=p[0],m=p[1],v=function(){return 5*(c-1)};return Object(r.useEffect)((function(){t()}),[]),Object(r.useEffect)((function(){n&&function(){if(1!==c){var e=v();i(n.slice(e,e+5))}else i(n.slice(0,5))}()}),[n,u,c]),a.a.createElement("div",{className:"users"},a.a.createElement(C,{handleClick:function(){return m(!h)},desc:"\u0421\u0442\u0432\u043e\u0440\u0438\u0442\u0438 \u043d\u043e\u0432\u043e\u0433\u043e \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0432\u0430"}),h&&a.a.createElement(x,null),o&&a.a.createElement(P,{usersList:o}),u>1&&a.a.createElement(k,null))})),D=function(){return a.a.createElement("div",{className:"App"},a.a.createElement(A,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function R(){return Object(s.c)(m,p,Object(s.a)(o.a))}var T=R();u.a.render(a.a.createElement(l.a,{store:T},a.a.createElement(a.a.StrictMode,null,a.a.createElement(D,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[18,1,2]]]);
//# sourceMappingURL=main.597f7ece.chunk.js.map